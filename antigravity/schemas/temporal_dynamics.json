{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "ScriptPulse Temporal Dynamics Schema",
    "description": "Temporal dynamics output with attention accumulation and recovery modeling",
    "version": "1.0.0",
    "canonical_equation": "S[i] = E[i] + λ·S[i-1] - R[i]",
    "parameters": {
        "lambda": {
            "name": "Fatigue carryover",
            "value": 0.85,
            "range": [
                0.7,
                0.9
            ],
            "description": "How much attentional load carries forward from previous scene"
        },
        "beta": {
            "name": "Recovery rate",
            "value": 0.3,
            "description": "Recovery earned from low-effort scenes"
        },
        "gamma": {
            "name": "Boundary recovery",
            "value": 0.2,
            "description": "Recovery earned from structural boundaries"
        },
        "delta": {
            "name": "Compression recovery",
            "value": 0.1,
            "description": "Recovery earned from short/compressed scenes"
        },
        "alpha": {
            "name": "Fatigue wall coefficient",
            "value": 0.05,
            "description": "Nonlinear amplification for sustained high loads"
        },
        "E_threshold": {
            "name": "Low-effort threshold",
            "value": 0.4,
            "description": "Below this, recovery is earned"
        },
        "S_max": {
            "name": "Fatigue wall threshold",
            "value": 2.0,
            "description": "Above this, nonlinear wall activates"
        },
        "R_max": {
            "name": "Maximum recovery",
            "value": 0.5,
            "description": "Maximum recovery credit per scene"
        }
    },
    "buffers": {
        "opening": {
            "scenes": 10,
            "description": "Gradual ramp-up of fatigue carryover in first N scenes",
            "formula": "λ_effective = λ · min(1.0, scene_index / N_opening)"
        },
        "ending": {
            "percent": 0.05,
            "description": "Reduced carry over in last 5% of scenes",
            "formula": "λ_effective = λ · (1 - 0.5 · (remaining / N_ending))"
        }
    },
    "fatigue_states": {
        "normal": {
            "range": [
                0.0,
                1.5
            ],
            "description": "Standard attentional load"
        },
        "elevated": {
            "range": [
                1.5,
                2.0
            ],
            "description": "Elevated but manageable load"
        },
        "high": {
            "range": [
                2.0,
                3.0
            ],
            "description": "High sustained load"
        },
        "extreme": {
            "range": [
                3.0,
                null
            ],
            "description": "Extreme sustained load (rare)"
        }
    },
    "temporal_signal_output": {
        "type": "object",
        "required": [
            "scene_index",
            "instantaneous_effort",
            "attentional_signal",
            "recovery_credit",
            "fatigue_state"
        ],
        "properties": {
            "scene_index": {
                "type": "integer",
                "description": "Scene number (1-indexed)"
            },
            "instantaneous_effort": {
                "type": "number",
                "minimum": 0.0,
                "description": "Effort E[i] computed from feature vector"
            },
            "attentional_signal": {
                "type": "number",
                "minimum": 0.0,
                "description": "Accumulated signal S[i] with carryover and recovery"
            },
            "recovery_credit": {
                "type": "number",
                "minimum": 0.0,
                "maximum": 0.5,
                "description": "Recovery credit R[i] earned this scene"
            },
            "fatigue_state": {
                "type": "string",
                "enum": [
                    "normal",
                    "elevated",
                    "high",
                    "extreme"
                ],
                "description": "Descriptive fatigue classification (not evaluative)"
            }
        }
    },
    "validation_criteria": {
        "bounded_signals": "S[i] must not exhibit runaway accumulation (typically < 10.0)",
        "no_single_scene_dominance": "One high E[i] must not cause excessive S[i] spike",
        "deterministic": "Same input must always produce same output",
        "no_drift": "No systematic upward drift without recovery balance",
        "buffer_effectiveness": "Opening scenes should have lower accumulation"
    },
    "forbidden_operations": [
        "Judging pacing as good or bad",
        "Inferring boredom or excitement",
        "Escalating alerts or warnings",
        "Normalizing against other scripts",
        "Optimizing for 'better' S(t) curves",
        "Using ML to tune parameters"
    ],
    "experiential_modeling_principle": "S(t) models first-pass attentional demand accumulation, NOT narrative quality or effectiveness. High S(t) is neither good nor bad—it simply represents accumulated cognitive load.",
    "determinism_requirement": "All parameters are fixed constants. No randomness, no external data, no learned weights. Same feature vectors must always produce identical temporal signals."
}