{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "ScriptPulse Structural Features Schema",
    "description": "Interpretable structural feature vectors for screenplay scenes",
    "version": "1.0.0",
    "feature_groups": {
        "linguistic_load": {
            "description": "Linguistic processing load from sentence complexity",
            "features": {
                "sentence_count": {
                    "type": "integer",
                    "description": "Total sentences in scene (period-delimited)"
                },
                "mean_sentence_length": {
                    "type": "number",
                    "description": "Average words per sentence"
                },
                "max_sentence_length": {
                    "type": "integer",
                    "description": "Longest sentence in words"
                },
                "sentence_length_variance": {
                    "type": "number",
                    "description": "Variance of sentence lengths"
                }
            }
        },
        "dialogue_dynamics": {
            "description": "Dialogue pacing and turn-taking patterns",
            "features": {
                "dialogue_turns": {
                    "type": "integer",
                    "description": "Number of dialogue blocks (D tags)"
                },
                "speaker_switches": {
                    "type": "integer",
                    "description": "Count of character (C tag) changes"
                },
                "turn_velocity": {
                    "type": "number",
                    "description": "Dialogue turns per estimated page"
                },
                "max_monologue_run": {
                    "type": "integer",
                    "description": "Longest uninterrupted speech by one character"
                }
            }
        },
        "visual_abstraction": {
            "description": "Visual description density and complexity",
            "features": {
                "action_line_count": {
                    "type": "integer",
                    "description": "Number of action (A) tags"
                },
                "continuous_action_runs": {
                    "type": "integer",
                    "description": "Sequences of consecutive A tags"
                },
                "fg_bg_action_ratio": {
                    "type": "number",
                    "description": "Ratio of short (foreground) vs long (background) action"
                },
                "visual_density": {
                    "type": "number",
                    "minimum": 0.0,
                    "maximum": 1.0,
                    "description": "Action lines / total scene lines"
                },
                "vertical_writing_load": {
                    "type": "integer",
                    "description": "Maximum consecutive action block height"
                }
            }
        },
        "referential_memory": {
            "description": "Character tracking and reference load",
            "features": {
                "active_character_count": {
                    "type": "integer",
                    "description": "Unique characters (C tags) in scene"
                },
                "character_reintroductions": {
                    "type": "integer",
                    "description": "Characters not seen in previous 2 scenes"
                },
                "pronoun_density": {
                    "type": "number",
                    "minimum": 0.0,
                    "maximum": 1.0,
                    "description": "Pronoun count / total words"
                }
            }
        },
        "structural_change": {
            "description": "Structural shift from previous scene",
            "features": {
                "event_boundary_score": {
                    "type": "number",
                    "minimum": 0.0,
                    "description": "Euclidean distance Δ(Vᵢ, Vᵢ₋₁)"
                }
            }
        }
    },
    "allowed_operations": [
        "Counting (sentences, turns, lines)",
        "Ratios and proportions",
        "Variance and statistical measures",
        "Delta calculations (scene-to-scene)",
        "Deterministic normalization (per-script only)"
    ],
    "forbidden_operations": [
        "Semantic embeddings",
        "Sentiment or emotion analysis",
        "Topic modeling",
        "Importance weighting",
        "Thematic classification",
        "Quality or clarity scoring",
        "Cross-script normalization",
        "Learned/ML-derived features",
        "Meaning or intent inference"
    ],
    "interpretability_principle": "Every feature must be explainable as 'something a careful human could point to on the page'",
    "normalization_constraint": "All features must normalize within the same script only. Cross-script comparison or global baselines are forbidden.",
    "observability_requirement": "Features must be derived from observable structure: counts, lengths, ratios, positions, and transitions only."
}